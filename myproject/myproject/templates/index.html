{% extends "base.html" %}
{% load staticfiles %}

{% block title %} lmn architecture {% endblock %}


{% block head %}


    <script type="text/javascript" src="{% static "js/three.js" %}"></script>
    <script type="text/javascript" src="{% static "js/d3.js" %}"></script>
    <script type="text/javascript" src="{% static "js/d3.layout.min.js" %}"></script>
    <script type="text/javascript" src="{% static "js/packages.js" %}"></script>
{#    <link type="text/css" rel="stylesheet" href="{% static "css/d3style.css" %}"/>#}
{#    <style>#}
    <style>

.node circle {
  fill: #fff;
  stroke: steelblue;
  stroke-width: 1.5px;
}

.node {
  font: 10px sans-serif;
}

.link {
  fill: none;
  stroke: #ccc;
  stroke-width: 1.5px;
}

</style>

    <script>
{#        var plans_json = JSON.parse({{ plans_json|safe}});#}

    </script>

    <script src="{% static "js/index.js" %}">
    </script>

{% endblock %}

{% block header %}
    <!-- todo: make header -->
{% endblock %}

{% block contents %}


    {{ user }}

    {% if user.is_authenticated %}
        {{ user.id }}: {{ user.name }}
    {% else %}
        not logged in
    {% endif %}

    <p>
    {{ plans_num }} plan(s).
    </p>

    <p>
    {% for p in plans %}
        <a href="{{ p.get_absolute_url }}">{{ p.name }}</a>

    {% endfor %}
    </p>


    {{ plans_json }}



{% endblock %}

{% block footer %}
    <!-- todo: make footer -->
     <script>
        var impData =  {{ plans_json | safe }};
        var count = {{ plans_num }};
                    treeDiagram();
        </script>
{% endblock %}

